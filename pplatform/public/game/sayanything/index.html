<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <!-- Copyright (C) 2015 Christoph Kutza -->
    <title>Say Anything</title>
	<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    <script src="../../netgroupclient.js"></script>
    <script src="../../pplatformclient.js"></script>
    <script src="sayanything.js"></script>
    </head>
    <body>

        <div class="stateview" id="WaitForStart">
            <h2 class="debug">State: WaitForStart</h2>
            <div class="controller">
                Waiting for Host
            </div>
            <div class="hostcontroller">
                <button onclick="startGame()" id="start_game_button">Start Game</button>
                <button onclick="leaveGame()">Leave Game</button>
            </div>
        </div>

        <div class="stateview" id="Rules">
            <h2 class="debug">State: Rules</h2>
            <div class="controller">
            </div>
            <div class="hostcontroller">
                <button onclick="skipRules()">Skip Rules</button>
            </div>
        </div>

        <div class="stateview" id="Questioning">
            <h2 class="debug">State: Questioning</h2>
            <div class="controller">
                <p> Score: <span class="myScore">0</span></p>
                <p> Waiting for <span class="judgeName">Player</span> to choose a question.</p>
            </div>
            <div class="judgecontroller">
                <p> Score: <span class="myScore">0</span></p>
                <div class="questionList">
                    <div><input type="radio" name="questionList" id="questionListQ1" value="Q1"><label for="questionListQ1"> <span id="questionListQ1Label">Q1</span></label> </div>
                    <div><input type="radio" name="questionList" id="questionListQ2" value="Q2"><label for="questionListQ2"> <span id="questionListQ2Label">Q2</span></label> </div>
                    <div><input type="radio" name="questionList" id="questionListQ3" value="Q3"><label for="questionListQ3"> <span id="questionListQ3Label">Q3</span></label> </div>
                    <div><input type="radio" name="questionList" id="questionListQ4" value="Q4"><label for="questionListQ4"> <span id="questionListQ4Label">Q4</span></label> </div>
                    <div><input type="radio" name="questionList" id="questionListQ5" value="custom"><label for="questionListQ5"> <input type="text" id="questionCustom" onclick="$('#questionListQ5').prop('checked', true);"></div>

                    <button class="confirm" onclick="questionListConfirm()">Confirm Selection</button>
                </div>
            </div>
        </div>

        <div class="stateview" id="Answering">
            <h2 class="debug">State: Answering</h2>
            <div class="controller">
                <div class="preAnswer">
                    <p> Score: <span class="myScore">0</span></p>
                    <p>Write your Answer</p>
                    <input type="text" id="answer" />
                    <button class="confirm" onclick="answerListConfirm()">Confirm</button>
                </div>
                <div class="postAnswer" hidden="true">
                    <p>Answer Submitted</p>
                </div>
            </div>
            <div class="judgecontroller">
                <p>Waiting for players to answer your question.</p>
            </div>
        </div>

        <div class="stateview" id="ShowAnswers">
            <h2 class="debug">State: Show Answers</h2>
            <div class="controller">
            <p> Score: <span class="myScore">0</span></p>
                Wait for all answers to be presented.
            </div>
            <div class="judgecontroller">
                <p> Score: <span class="myScore">0</span></p>
                Wait for all answers to be presented.
            </div>
        </div>

        <div class="stateview" id="JudgingAndVoting">
            <h2 class="debug">State: Judging</h2>


            <div class="controller">

                <p> Score: <span class="myScore">0</span></p>
                <div class="voteList">
                     <div class="A1"> <input type="radio" name="votingRadio1" value="1" class="CB" id="vr11"> <input type="radio" name="votingRadio2" value="1" class="CB" id="vr21"><label for="vr11"> <span class="answer">A1</span></label></div>
                     <div class="A2"> <input type="radio" name="votingRadio1" value="1" class="CB" id="vr12"> <input type="radio" name="votingRadio2" value="2" class="CB" id="vr22"><label for="vr12"> <span class="answer">A2</span></label></div>
                     <div class="A3"> <input type="radio" name="votingRadio1" value="1" class="CB" id="vr13"> <input type="radio" name="votingRadio2" value="3" class="CB" id="vr23"><label for="vr13"> <span class="answer">A3</span></label></div>
                     <div class="A4"> <input type="radio" name="votingRadio1" value="1" class="CB" id="vr14"> <input type="radio" name="votingRadio2" value="4" class="CB" id="vr24"><label for="vr14"> <span class="answer">A4</span></label></div>
                     <div class="A5"> <input type="radio" name="votingRadio1" value="1" class="CB" id="vr15"> <input type="radio" name="votingRadio2" value="5" class="CB" id="vr25"><label for="vr15"> <span class="answer">A5</span></label></div>
                     <div class="A6"> <input type="radio" name="votingRadio1" value="1" class="CB" id="vr16"> <input type="radio" name="votingRadio2" value="6" class="CB" id="vr26"><label for="vr16"> <span class="answer">A6</span></label></div>
                     <div class="A7"> <input type="radio" name="votingRadio1" value="1" class="CB" id="vr17"> <input type="radio" name="votingRadio2" value="7" class="CB" id="vr27"><label for="vr17"> <span class="answer">A7</span></label></div>
                     <div class="A8"> <input type="radio" name="votingRadio1" value="1" class="CB" id="vr18"> <input type="radio" name="votingRadio2" value="8" class="CB" id="vr28"><label for="vr18"> <span class="answer">A8</span></label></div>
                     <div class="A9"> <input type="radio" name="votingRadio1" value="1" class="CB" id="vr19"> <input type="radio" name="votingRadio2" value="9" class="CB" id="vr29"><label for="vr19"> <span class="answer">A9</span></label></div>

                     <button class="confirm" onclick="votingConfirm()">Confirm Selection</button>
                </div>
            </div>

            <div class="judgecontroller">
                <p> Score: <span class="myScore">0</span></p>
                Choose Your Favorite

                <div class="judgeList">
                    <div class="A1"><input type="radio" name="judgingRadio" value="1" class="CB" id="jr1"><label for="jr1"><span class="answer">A1</span></label> </div>
                    <div class="A2"><input type="radio" name="judgingRadio" value="2" class="CB" id="jr2"><label for="jr2"><span class="answer">A2</span></label> </div>
                    <div class="A3"><input type="radio" name="judgingRadio" value="3" class="CB" id="jr3"><label for="jr3"><span class="answer">A3</span></label> </div>
                    <div class="A4"><input type="radio" name="judgingRadio" value="4" class="CB" id="jr4"><label for="jr4"><span class="answer">A4</span></label> </div>
                    <div class="A5"><input type="radio" name="judgingRadio" value="5" class="CB" id="jr5"><label for="jr5"><span class="answer">A5</span></label> </div>
                    <div class="A6"><input type="radio" name="judgingRadio" value="6" class="CB" id="jr6"><label for="jr6"><span class="answer">A6</span></label> </div>
                    <div class="A7"><input type="radio" name="judgingRadio" value="7" class="CB" id="jr7"><label for="jr7"><span class="answer">A7</span></label> </div>
                    <div class="A8"><input type="radio" name="judgingRadio" value="8" class="CB" id="jr8"><label for="jr8"><span class="answer">A8</span></label> </div>
                    <div class="A9"><input type="radio" name="judgingRadio" value="9" class="CB" id="jr9"><label for="jr9"><span class="answer">A9</span></label> </div>

                    <button class="confirm" onclick="judgingConfirm()">Confirm Selection</button>
                </div>
                <div class="answerList">
                </div>
            </div>
        </div>

        <div class="stateview" id="ShowWinner">
            <h2 class="debug">State: ShowWinner</h2>

            <div class="controller">
                <p> Score: <span class="myScore">0</span></p>
            </div>
            <div class="judgecontroller">
                <p> Score: <span class="myScore">0</span></p>
            </div>
        </div>

        <div class="stateview" id="ShowScore">
            <h2 class="debug">State: ShowScore</h2>

            <div class="controller">
                <p> Score: <span class="myScore">0</span></p>
            </div>
            <div class="judgecontroller">
                <p> Score: <span class="myScore">0</span></p>
            </div>
        </div>
        <script>

$(".voteList input").click( function(){
   if( $(this).is(':checked') )
   {

       if($(this).attr("name") === "votingRadio1")
       {
           //get all labels and get the id's from their votingRadio2 and set the id's to their for field
           //$(this).siblings("label").attr("for", (this).siblings("votingRadio2").attr("id"));
           //var v = $(".voteList input[name='votingRadio2']");

           $(".voteList label").each(function(index, element)
           {
               var qelement = $(element);

               qelement.attr("for", qelement.siblings("[name='votingRadio2']").attr("id"));
           });

       }else if($(this).attr("name") === "votingRadio2")
       {
           //get all labels and get the id's from their votingRadio2 and set the id's to their for field
           //$(this).siblings("label").attr("for", (this).siblings("votingRadio2").attr("id"));
           //var v = $(".voteList input[name='votingRadio2']");

           $(".voteList label").each(function(index, element)
           {
               var qelement = $(element);

               qelement.attr("for", qelement.siblings("[name='votingRadio1']").attr("id"));
           });
       }
       //console.log($(".voteList input:checked ~ input:checked + label"));

       //$(".voteList input").attr('for="' + $(this).siblings("") +'"');
   }
});

        initTestUi();
            //after everything in html is ready -> initialize the game code and global variables
            //this will initialize the game + global variables
            initGame();




    </script>
    </body>
</html>
